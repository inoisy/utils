# Vuex Style Guide

# 1. Module/Модули

Модули Vuex должены быть созданы для определенного набора функций. Модуль не должен иметь зависимостей от других модулей (В случае крайней необходимости таких зависимостей должно быть минимум). Название модуля должно быть коротким, иметь четкое представление о назначении и содержать слова, разделенные тире.

**Хорошо:**

`products`

`product`

`compare-products`

`user`

`notifications`

`order`

**Плохо:**

`next-module`

`compare (Не указано, что сравнивается)`

---

# 2. State/Состояние

Свойства состояний должны быть простыми, а их структура не должна быть вложенной. Имена должны быть написаны в нижнем регистре и указывать на то, что они содержат.

**Хорошо:**

`news_list`  (список новостей)

`categories` (список категорий)

`category` (объект категории)

`category_name` (имя категории)

`active_category_id` (id активной категории)

`active_category` (объект активной категории)

**Плохо:**

`list`

`elements`

`items`

---

# 3. Getters/Геттеры

Геттеры должны использоваться для вычисления производного состояние на основе состояния хранилища, например, возвращать количество элементов массива. Для доступа к исходному состоянию, не требующему изменений, нужно использовать mapState

Геттер должен начинаться с is, если он возвращает логическое значение, во всех других случаях - с get. Геттер должен ответ на вопрос - "что я возвращаю?"

**Хорошо:**

`user -> isUserLoggedIn, getUser`

`categories -> getCategoriesLength`

`active_category_id -> getActiveCategory` (вернет объект активной категории)

`active_category -> getActiveСategoryId` (вернет id активной категории)

**Плохо:**

`totals`

`product`

`current`

`list`

---

# 4. Actions/Действия

Каждое изменение состояния должно вызываться c помощью дейтсвия.

Имена действий должны быть как можно более уникальными и описывать, какое конкретное действие произойдет.

Действия могут использоваться для:

1. Получение данных с сервера (Такие действия должы начинаться с fetch)
2. Изменения состояния текущего модуля
3. Диспетчеризация действий из одного и того же модуля (чтобы избежать повторения логики)

**Хорошо:**

`fetchCategories`

`fetchCategory`

`setActiveCategory`

`changeActiveCategory`

`addCategory`

`removeCategory`

`toggleMenu`

**Плохо:**

`products`

`reset`

# 5. Mutations/Мутации

Только мутации должны изменять состояние модуля. Они должны быть синхронными, не содержать никакой логики, кроме той, которая необходима для сохранения состояния или установки значения по умолчанию. Мутации должны вызываться только действиями из того же модуля. В большинстве случаев одно действие должно вызывать одну мутацию.

Имена мутаций всегда должны быть написаны в заглавными буквами и начинаться с:

1. SET_ - наиболее распространенный тип мутации. Используется чтобы установить объект (или весь массив), установить значение объекта по умолчанию (или, может быть, чистый массив),
2. ADD_ - используется для добавления нового элемента в массив, или добавления нового свойства в объект.
3. REMOVE_ - используется для обнуления значений или установки значений по умолчанию. Для удаления элемента массива или свойства объекта рекомендуется описывать логику в Action'е и использовать мутацию SET_

**Хорошо:**

`SET_ACTIVE_CATEGORY_ID`

`SET_CATEGORIES`

`ADD_CATEGORY`

`REMOVE_ACTIVE_CATEGORY_ID`

**Плохо:**

`CATEGORY_UPD_ACTIVE_CATEGORY`

`UPDATE_CATEGORIES`

`totals`

`product`

`current`

`list`